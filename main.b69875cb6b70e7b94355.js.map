{"version":3,"sources":["webpack:///./template.hbs","webpack:///./index.js","webpack:///./js/fetchCountries.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","escapeExpression","lambda","stack1","helper","alias1","nullContext","alias2","hooks","helperMissing","alias4","program","noop","refs","input","document","getElementById","countryList","countryWrapper","onDataReady","dataObj","obj","markup","length","clearOutput","PNotify","error","title","text","listMarkup","map","item","name","join","insertAdjacentHTML","showCountryList","countryTemplate","innerHTML","addEventListener","_","debounce","searchQuery","value","onData","fetch","then","response","json","catch","console","Error"],"mappings":"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","file":"main.b69875cb6b70e7b94355.js","sourcesContent":["var Handlebars = require(\"../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"                    <li class=\\\"languages-list__item\\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<h2 class=\\\"country-box__title\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"name\") || (depth0 != null ? lookupProperty(depth0,\"name\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"name\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":31},\"end\":{\"line\":1,\"column\":39}}}) : helper)))\n    + \"</h2>\\r\\n<div class=\\\"country-box\\\">\\r\\n    <ul class=\\\"country-box__description-block\\\">\\r\\n        <li>\\r\\n            <p class=\\\"country-box__description-block--category\\\">\\r\\n                Capital: <span class=\\\"country-box__description-block--city\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"capital\") || (depth0 != null ? lookupProperty(depth0,\"capital\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"capital\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":76},\"end\":{\"line\":6,\"column\":87}}}) : helper)))\n    + \"</span>\\r\\n            </p>\\r\\n        </li>\\r\\n        <li>\\r\\n            <p class=\\\"country-box__description-block--category\\\">\\r\\n                Population: <span class=\\\"country-box__description-block--city\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"population\") || (depth0 != null ? lookupProperty(depth0,\"population\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"population\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":79},\"end\":{\"line\":11,\"column\":93}}}) : helper)))\n    + \"</span>\\r\\n            </p>\\r\\n        </li>\\r\\n        <li>\\r\\n            <p class=\\\"country-box__description-block--category\\\">\\r\\n                Languages:\\r\\n                <ul class=\\\"languages-list\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(alias1,(depth0 != null ? lookupProperty(depth0,\"languages\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":18,\"column\":20},\"end\":{\"line\":20,\"column\":29}}})) != null ? stack1 : \"\")\n    + \"                </ul>\\r\\n            </p>\\r\\n        </li>\\r\\n    </ul>\\r\\n    <img src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"flag\") || (depth0 != null ? lookupProperty(depth0,\"flag\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"flag\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":25,\"column\":14},\"end\":{\"line\":25,\"column\":22}}}) : helper)))\n    + \"\\\" width=\\\"340\\\" alt=\\\"country-flag\\\" />\\r\\n</div>\";\n},\"useData\":true});","import './styles.css';\nimport PNotify from '../node_modules/pnotify/dist/es/PNotify.js';\nimport '../node_modules/pnotify/dist/PNotifyBrightTheme.css';\nimport fetchCountries from './js/fetchCountries.js';\nimport countryTemplate from './template.hbs';\n\nconst BASE_URL = 'https://restcountries.eu/rest/v2/name/';\n\nconst refs = {\n  input: document.getElementById('text-input'),\n  countryList: document.getElementById('country-list'),\n  countryWrapper: document.getElementById('country-box'),\n};\n\nrefs.input.addEventListener(\n  'input',\n  _.debounce(handleInputFetchCountries, 1000),\n);\n\nfunction handleInputFetchCountries() {\n  fetchCountries(BASE_URL, `${refs.input.value}`, onDataReady);\n}\n\nfunction onDataReady(data) {\n  if (data.length >= 10) {\n    fnToManyMatches();\n  } else if (data.length > 1) {\n    showCountryList(data);\n  } else {\n    showOneCountry(data[0]);\n  }\n}\n\nfunction fnToManyMatches() {\n  clearOutput();\n  PNotify.error({\n    title: 'Error!',\n    text: 'To many matches found. Please enter a more specific query!',\n  }); \n}\n\nfunction showCountryList(data) {\n  clearOutput();\n  const listMarkup = data\n    .map(item => `<li class=\"country-list__item\">${item.name}</li>`)\n    .join('');\n\n  refs.countryList.insertAdjacentHTML('beforeend', listMarkup);\n}\n\nfunction showOneCountry(dataObj) {\n  clearOutput();\n  createMarkup(dataObj);\n}\n\nfunction createMarkup(obj) {\n  const markup = countryTemplate(obj);\n  refs.countryWrapper.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction clearOutput() {\n  refs.countryWrapper.innerHTML = '';\n  refs.countryList.innerHTML = '';\n}\n","export default function fetchCountries(baseUrl, searchQuery, onData) {\r\n  return fetch(`\r\n  https://restcountries.eu/rest/v2/name/${searchQuery}`)\r\n    .then(response => response.json())\r\n    .then(data => {\r\n      // console.log(data);\r\n      onData(data);\r\n    })\r\n    .catch(error => {\r\n      console.error(error);\r\n      throw new Error('fetch error!');\r\n    });\r\n}\r\n"],"sourceRoot":""}